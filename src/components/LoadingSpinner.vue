<template>
  <div
    class="loadingSpinner"
    :class="`loadingSpinner--${shapeIndex}`"
  >
    <div class="loadingSpinner__shapeContainer">
      <div v-if="shapeIndex === 0">
        <svg
          class="shape"
          viewBox="0 0 86.66 133.69"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="m.38 111.16a22.15 22.15 0 0 0 22.15 22.16h63.75v-44.32h-22.15a22.16 22.16 0 0 0 0-44.31h1a21.18 21.18 0 0 0 21.15-21.18v-2a21.18 21.18 0 0 0 -21.18-21.13h-43.55a21.17 21.17 0 0 0 -21.17 21.18v2a21.18 21.18 0 0 0 21.17 21.13h-21.17v44.31h22.15a22.15 22.15 0 0 0 -22.15 22.16" />
        </svg>
      </div>
      <div v-else-if="shapeIndex === 1">
        <svg
          class="shape"
          viewBox="0 0 116.74 140.32"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="m44.35 43.8-43.89 32.43 19.88 47.41 28.95 16.2 51.95-63.61 15.04-35.03-56.61-40.61z" />
        </svg>
      </div>
      <div v-else-if="shapeIndex === 2">
        <svg
          class="shape"
          viewBox="0 0 117.14 143.64"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="m.47 13.41 36.7 16.19 46.8-29.04 18.23 46.38 8.25 53.37 6.22 17.22-63.67 25.7-35.61-19.01z" />
        </svg>
      </div>
      <div v-else-if="shapeIndex === 3">
        <svg
          class="shape"
          viewBox="0 0 86.66 134.9"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="m86.28 43.88c0-24-19.22-43.5-42.95-43.5s-42.95 19.47-42.95 43.5v90.65h85.9z" />
        </svg>
      </div>
      <div v-else-if="shapeIndex === 4">
        <svg
          class="shape"
          viewBox="0 0 115.56 136.96"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="m1.7 25.33c0 11.28 20.3 20.67 47.06 22.67-26.76 2-47.06 11.36-47.06 22.64s20.3 20.67 47.06 22.66c-26.76 1.98-47.06 11.37-47.06 22.7 0 12.73 25.81 23 57.65 23s57.65-10.32 57.65-23c0-11.28-20.28-20.67-47.07-22.65 26.8-2.04 47.07-11.43 47.07-22.71s-20.27-20.64-47.06-22.64c26.79-2 47.06-11.39 47.06-22.67 0-12.72-25.81-23-57.66-23s-57.64 10.28-57.64 23z" />
        </svg>
      </div>
      <div v-else-if="shapeIndex === 5">
        <svg
          class="shape"
          viewBox="0 0 86.66 133.38"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="m86.2 45h.08c0-.31 0-.63 0-.94s0-.51 0-.76h-.06a22.7 22.7 0 0 0 -6.19-14c-1.33-1.75-3-4.49-3-7.23s1.65-5.47 3-7.23c.24-.24.47-.5.69-.76.21-.25.43-.51.63-.77l.05-.06c.2-.25.39-.51.58-.77l.07-.1c.17-.25.35-.5.52-.76l.08-.13.47-.76.1-.18c.14-.24.28-.49.41-.74a2.26 2.26 0 0 0 .11-.22c.13-.25.25-.49.36-.73l.12-.27c.12-.23.21-.47.31-.71s.09-.21.13-.31.18-.46.26-.69l.12-.36c.08-.23.15-.45.23-.67s.08-.28.11-.42.13-.42.18-.63.07-.32.11-.47.1-.41.14-.61l.09-.53c0-.17.07-.38.1-.57s0-.4.08-.6l.06-.51c0-.24 0-.48 0-.72s0-.27 0-.41h-85.73v.42s0 .48 0 .71l.14.49c0 .2 0 .4.08.6s.06.38.1.57.06.35.09.53.09.4.14.6.07.32.11.47.11.43.17.64l.12.41c.07.23.14.45.22.67l.12.36.3.71.12.31c.1.24.2.48.31.71l.12.27c.11.24.24.49.36.73l.09.22c.13.25.27.5.41.75l.1.17c.15.26.31.51.47.76l.09.13c.17.26.34.52.52.77l.07.09c.18.27.38.52.57.77v.06c.21.27.42.52.64.77.22.26.46.52.69.77 1.33 1.76 3 4.49 3 7.23s-1.65 5.47-3 7.23a22.67 22.67 0 0 0 -6.12 13.97h-.06v.76s0 .63 0 .94v.03h.08a22.67 22.67 0 0 0 6.17 13.78c1.32 1.76 3 4.49 3 7.23s-1.65 5.46-3 7.23l-.7.76c-.22.25-.43.51-.64.77v.06c-.19.25-.39.51-.57.77l-.07.1c-.18.25-.35.51-.52.77l-.13.16c-.16.25-.31.5-.46.76l-.1.17c-.15.25-.28.5-.42.75l-.11.22-.36.73-.12.26c-.11.24-.21.48-.31.72l-.12.31-.27.69-.12.36-.22.67c0 .14-.08.28-.11.42s-.13.42-.18.63-.07.31-.11.47-.1.4-.14.61l-.09.53c0 .17-.07.37-.1.56s-.05.41-.08.61l-.06.51-.06.72v.42 1.14s0 .77 0 1.15v.42s0 .48 0 .71l.06.52c0 .2 0 .4.08.6s.07.38.1.57.06.35.09.53.09.4.14.6.07.32.11.47.11.43.18.64.07.28.11.41.15.45.22.67.08.25.13.37.17.46.26.68l.12.32c.1.24.21.47.31.71l.12.26.36.73.11.23c.14.25.27.5.42.74l.1.18c.15.25.3.5.46.75l.09.14c.17.26.34.51.52.76l.07.1c.19.26.38.52.58.77v.06c.21.26.42.52.64.77.23.26.46.51.7.76 1.32 1.76 3 4.49 3 7.22s-1.54 5.5-2.92 7.27l-.69.76c-.22.25-.43.51-.64.77v.06c-.19.25-.39.51-.57.77l-.07.1c-.18.25-.35.5-.52.76l-.09.14c-.16.24-.31.5-.46.75l-.1.18c-.15.24-.28.49-.42.74l-.11.23-.36.73-.12.26c-.11.24-.21.47-.31.71l-.16.34-.3.7-.12.36c-.07.23-.15.45-.22.67s-.08.28-.11.42-.13.42-.18.64-.07.31-.11.46-.1.41-.14.61l-.09.53c0 .17-.07.38-.1.57s-.05.4-.08.6l-.06.51v.65h85.72c0-.22 0-.43 0-.65l-.06-.51c0-.2 0-.4-.08-.6s-.06-.38-.1-.57-.06-.35-.09-.53-.09-.4-.14-.6-.07-.32-.11-.47-.11-.43-.17-.64l-.12-.41c-.07-.23-.14-.45-.22-.67s-.09-.25-.13-.37-.17-.46-.26-.69l-.12-.31c-.1-.24-.21-.47-.31-.71a2.1 2.1 0 0 0 -.13-.26c-.11-.25-.23-.49-.36-.73l-.11-.23c-.13-.25-.27-.5-.41-.74l-.1-.18c-.15-.25-.3-.51-.46-.75l-.09-.14c-.17-.26-.34-.51-.52-.76l-.07-.1c-.19-.26-.38-.52-.58-.77v-.06c-.2-.26-.41-.52-.63-.77-.22-.26-.45-.51-.69-.76-1.32-1.76-3-4.49-3-7.24s1.65-5.46 3-7.23c.24-.25.47-.5.69-.76.21-.25.43-.51.63-.77l.05-.06c.2-.25.39-.51.58-.77l.07-.09.52-.77.08-.13.47-.76.1-.18c.14-.24.28-.49.41-.74a2.26 2.26 0 0 0 .11-.22c.13-.25.25-.49.36-.73l.12-.27c.12-.23.21-.47.31-.71s.09-.21.13-.31.18-.46.26-.69l.12-.36c.08-.23.15-.45.23-.67s.08-.28.11-.42.13-.42.18-.63.07-.32.11-.47.1-.41.14-.61l.09-.53c0-.17.07-.38.1-.57s0-.4.08-.6l.06-.51c0-.24 0-.48 0-.72s0-.28 0-.42c0-.38 0-.76 0-1.15s0-.77 0-1.15c0-.14 0-.28 0-.42s0-.48 0-.72l-.06-.52c0-.2 0-.4-.08-.59s-.07-.38-.1-.57-.06-.36-.09-.53-.09-.41-.14-.61-.07-.31-.11-.47-.11-.42-.18-.63-.07-.28-.11-.42-.15-.44-.23-.67l-.16-.43c-.08-.23-.17-.46-.26-.69s-.08-.21-.13-.31-.2-.48-.31-.71l-.12-.27c-.11-.24-.23-.49-.36-.73l-.11-.22c-.13-.25-.27-.5-.41-.75l-.1-.17c-.15-.26-.31-.51-.47-.76l-.08-.13-.52-.77-.13-.09c-.19-.26-.38-.52-.58-.77l-.05-.06c-.2-.27-.42-.52-.63-.77-.22-.26-.45-.52-.69-.77-1.33-1.74-3-4.47-3-7.21s1.65-5.47 3-7.24a22.67 22.67 0 0 0 6.15-13.8" />
        </svg>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  name: 'LoadingSpinner',
  data() {
    return {
      shapeIndex: 0,
      interval: null,
    };
  },
  created() {
    const numberOfShapes = 6;

    this.interval = setInterval(() => {
      if (this.shapeIndex < numberOfShapes - 1) {
        this.shapeIndex += 1;
        return;
      }
      this.shapeIndex = 0;
    }, 3000);
  },
  beforeDestroy() {
    clearInterval(this.interval);
  },
};
</script>

<style
  lang="scss"
  scoped
>
  @import "../styling/variables";

  .loadingSpinner {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: $yellow;
    z-index: 11;

    &--1 {
      background-color: $green;
    }

    &--2 {
      background-color: $purple;
    }

    &--3 {
      background-color: $blue;
    }

    &--4 {
      background-color: $pink;
    }

    &--5 {
      background-color: $red;
    }

    &__shapeContainer {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }

  .shape {
    height: 10rem;
    animation: rotate 2s infinite linear;

    path {
      fill: none;
      stroke: #1d1d1b;
      stroke-miterlimit: 10;
      stroke-width: .75;
    }
  }

  @keyframes rotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(359deg);
    }
  }
</style>
